<%- include('partials/header', {title: "Index"}); %>

<style>
	/* Container holding the image and the text */
	.image-div {
		position: relative;
		text-align: center;
		color: white;
	}

  .card-img-top {
    width: 398px;
    height: 300px;
    max-height: 300px
  }

	/* Bottom right text */
	.bottom-right {
		font-size: 12px;
		position: absolute;
		bottom: 8px;
		right: 8px;
		background-color: darkslategrey;
		opacity: 0.7;
		padding: 0 4px;
	}

	a.custom-card,
	a.custom-card:hover {
		color: inherit;
		text-decoration: none;
	}
</style>

<body>
	<%- include('partials/navbar', {page_name: "index"}) %>
	<div>
		<div class="d-flex justify-content-center pt-3 pl-2">
			<div
				class="alert alert-success border-dark px-2 py-1 mb-1"
				style="background-color: #cce5ff; font-size: 18px"
				role="alert"
			>
				<p class="mb-0 text-center">
					You have
					<span class="badge badge-pill badge-light" style="font-size: 18px"
						><%= totalArticles %></span
					><%= articlesString %>
				</p>
			</div>
		</div>

		<!--article cards array-->
		<section class="d-flex flex-wrap justify-content-left mb-2 mt-2 mx-auto">
			<% articles.forEach(article => { %>
			<!--card image and body-->
			<a href="articles/<%= article.slug %>" class="custom-card mb-3">
				<div
					class="card rounded card-shadow m-2 h-100"
					style="max-width: 400px;"
					href="articles/<%= article.slug %>"
				>
					<div class="image-div">
						<img
							class="card-img-top"
							src="<%= article.imageUrl %>"
							alt="article image"
						/>
						<div class="bottom-right">Image: <%= article.imageCredit %></div>
					</div>
					<div class="card-header p-2" style="background-color: #455A64;">
						<h6 class="card-title text-center m-0" style="color: #fff"><%= article.title %></h6>
					</div>
					<div class="card-body p-2">
						<p
							class="card-text"
							style="font-family: Verdana; font-style: italic"
						>
							<%= article.summary.substring(0, 240) %>...
						</p>
					</div>
				</div>
			</a>
			<% }); %>
		</section>
	</div>
</body>
<%- include('partials/footer'); %>
